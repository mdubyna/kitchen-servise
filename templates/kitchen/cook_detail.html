{% extends 'layouts/base_background.html' %}
{% load crispy_forms_filters %}
{% load static %}

{% block body %} class="index-page bg-gray-200" {% endblock body %}


{% block content %}

  <header class="header-2">
    <div class="page-header min-vh-35 relative" style="background-image: url('{% static 'img/dishes.jpg' %}')">
      <span class="mask bg-gradient-secondary opacity-4"></span>
    </div>
  </header>

  <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6">
    <h1>
      Username: {{ cook.username }}
    </h1>
    <h1>
      <a href="{% url 'kitchen:cook-delete' pk=cook.id %}" class="btn btn-danger link-to-page">
        Delete
      </a>

      <a href="{% url 'kitchen:cook-update' pk=cook.id %}" class="btn btn-dark link-to-page">
        Update years of cooking
      </a>
    </h1>


    <p><strong>First name:</strong> {{ cook.first_name }}</p>
    <p><strong>Last name:</strong> {{ cook.last_name }}</p>
    <p><strong>Years of cooking:</strong> {{ cook.years_of_cooking }}</p>

    <div class="ml-3">
      <h4>Dishes</h4>
      {% if cook.dishes.all %}
        <table class="table">
          <tr>
            <th>â„–</th>
            <th>Dish name</th>
            <th>Dish type</th>
          </tr>
          {% for dish in cook.dishes.all %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ dish.name }}</td>
              <td>{{ dish.dish_type.name }}</td>
            </tr>
          {% endfor %}
        </table>
      {% else %}
        <p>No dishes!</p>
      {% endif %}
    </div>
  </div>
{% endblock content %}
